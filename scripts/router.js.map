{"version":3,"sources":["router.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,YAAY;AACd,UAAQ,EAAR;AACA,eAAa,SAAS,aAAT,CAAuB,OAAvB,CAAb;AACA,kBAAgB,wBAAS,IAAT,EAAc;AAC5B,WAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB;aAAK,EAAE,IAAF,KAAW,KAAK,SAAL,CAAe,CAAf,CAAX;KAAL,CAAxB,CAD4B;GAAd;AAGhB,YAAU,wBAAgD;QAAtC,iBAAsC;QAAhC,yBAAgC;QAAtB,6BAAsB;QAAV,uBAAU;;AACxD,WAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,EAAC,UAAD,EAAO,kBAAP,EAAiB,sBAAjB,EAA6B,gBAA7B,EAAjB,CAAP,CADwD;GAAhD;AAGV,UAAQ,gBAAS,IAAT,EAAe;AACrB,QAAI,QAAQ,KAAK,cAAL,CAAoB,IAApB,CAAR,CADiB;AAErB,QAAI,KAAJ,EAAW;AACT,WAAK,WAAL,CAAiB,SAAjB,GAA6B,IAAI,SAAJ,CAAc,MAAM,QAAN,CAAd,CAA8B,MAAM,OAAN,CAA3D,CADS;AAET,aAAO,UAAP,CAAkB,MAAM,UAAN,EAAkB,CAApC,EAFS;KAAX,MAGO;AACL,WAAK,WAAL,CAAiB,SAAjB,GAA6B,IAAI,SAAJ,CAAc,QAAd,EAA7B,CADK;KAHP;GAFM;CATN;;AAoBJ,EAAE,QAAF,EAAY,KAAZ,CAAkB,YAAW;AAC3B,YAAU,MAAV,CAAiB,OAAO,QAAP,CAAgB,IAAhB,CAAjB,CAD2B;CAAX,CAAlB;;AAIA,EAAE,MAAF,EAAU,IAAV,CAAe,YAAf,EAA6B,YAAW;AACtC,YAAU,MAAV,CAAiB,OAAO,QAAP,CAAgB,IAAhB,CAAjB,CADsC;CAAX,CAA7B","file":"router.js","sourcesContent":["'use strict';\n\nvar TDBRouter = {\n  routes: [],\n  rootElement: document.querySelector('#main'),\n  getRouteByHash: function(hash){\n    return this.routes.find(r => r.path === hash.substring(1));\n  },\n  addRoute: function({path, template, onRendered, context}) {\n    return this.routes.push({path, template, onRendered, context});\n  },\n  render: function(hash) {\n    var route = this.getRouteByHash(hash);\n    if (route) {\n      this.rootElement.innerHTML = TDB.templates[route.template](route.context);\n      window.setTimeout(route.onRendered, 0);\n    } else {\n      this.rootElement.innerHTML = TDB.templates.notFound()\n    }\n  }\n};\n\n$(document).ready(function() {\n  TDBRouter.render(window.location.hash);\n});\n\n$(window).bind(\"hashchange\", function() {\n  TDBRouter.render(window.location.hash);\n});\n\n"],"sourceRoot":"/source/"}