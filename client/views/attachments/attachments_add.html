<template name="attachmentsAdd">
  <div class="tabs-container">
    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#tab-1" aria-expanded="true"> Web Reference</a></li>
      <li class=""><a data-toggle="tab" href="#tab-2" aria-expanded="false">File from URL</a></li>
      <li class=""><a data-toggle="tab" href="#tab-3" aria-expanded="false">File Upload</a></li>
    </ul>
    <div class="tab-content">
      <div id="tab-1" class="tab-pane active">
        <div class="panel-body">
          <div class="row">
            <div class="col-xs-6">
              {{> searchMetadata onSuccess=onSuccess}}
            </div>
          </div>
          <div class="row">
            <div class="col-xs-6">
              {{#autoForm id="insertAttachmentForm" doc=attachment collection="Attachments" type="method" meteormethod="Attachments.methods.add" class="form-horizontal" }} {{> afQuickField name="name" label-class="col-sm-2" input-col-class="col-sm-9"}} {{> afQuickField name="imageUrl" label-class="col-sm-2" input-col-class="col-sm-9"}} {{> afQuickField name="description" label-class="col-sm-2" input-col-class="col-sm-9"}} {{> afQuickField name="url"}} {{> submit texto="Create" buttonClass="col-sm-9" offsetClass="col-sm-offset-2"}} {{/autoForm}}
            </div>
            <div class="col-xs-6">
              <div class="preview">
                <h5>Image Preview</h5>
                {{#if attachment.imageUrl}}
                  {{> fetchImage width=400 height=200 src=attachment.imageUrl class="img-responsive"}}
                {{else}}
                  <img src="http://placehold.it/400x200" class="img-responsive" alt="">
                {{/if}}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="tab-2" class="tab-pane">
        <div class="panel-body">
          <div class="row">
            <div id="search-file" class="search-file">
              <div class="input-group">
                <span class="input-group-addon">
                <i class='fa fa-search'></i>
              </span>
                <input class="form-control" placeholder="Url for get attachment metadata. (Ex. http://github.com)" type="text" id="search-file-url">
                <span class="input-group-btn">
                <button type="button" class="btn btn-primary btn-download">Download file</button>
              </span>
              </div>
              <div class="metadata">
              </div>
            </div>
          </div>
          <div class="row">
            {{#autoForm id="insertAttachmentDownloadForm" doc=attachment collection="Attachments" type="method" meteormethod="Attachments.methods.add" class="form-horizontal"}}
              {{> afQuickField name="name" label-class="col-sm-2" input-col-class="col-sm-9"}} 
              {{> afQuickField name="description" label-class="col-sm-2" input-col-class="col-sm-9"}}
              {{> afQuickField name="url"}}
              {{> submit texto="Create" buttonClass="col-sm-9" offsetClass="col-sm-offset-2"}}
            {{/autoForm}}
          </div>
        </div>
      </div>
      <div id="tab-3" class="tab-pane">
        <div class="panel-body">
          #tab-3
        </div>
      </div>
    </div>
  </div>
</template>
